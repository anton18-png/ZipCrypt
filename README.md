# ZipCrypt - Крипто архиватор и менеджер паролей

ZipCrypt - это приложение для шифрования файлов и управления паролями, написанное на Python с использованием ttkbootstrap для современного интерфейса. Оно сочетает безопасное шифрование файлов (OpenSSL, 7zip) и встроенный менеджер паролей.

![ZipCrypt Screenshot](https://github.com/user-attachments/assets/97359e80-e906-48e9-af90-e89a4f9ce376)

## Возможности

### Шифрование файлов
- Выбор файлов или папок для шифрования/расшифровки.
- Поддержка нескольких методов шифрования:
  - **Двоичный код -> Base64 -> OpenSSL -> 7zip (по умолчанию, `binary_openssl_7zip`)**: Пароль преобразуется в двоичный код, затем в Base64, файлы шифруются через OpenSSL (AES-256-CBC, PBKDF2, соль), затем архивируются через 7zip (AES-256).
  - **Только OpenSSL (`openssl_only`)**: Прямое шифрование файлов с использованием AES-256-CBC, PBKDF2 и соли.
  - **OpenSSL -> 7zip (`openssl_7zip`)**: Файлы шифруются через OpenSSL (AES-256-CBC, PBKDF2, соль), затем архивируются через 7zip (AES-256).
- Подробное логирование операций в файл `zipcrypt.log`.
- Поддержка различных версий 7zip (9.20, 24.08, 25.01_extra) и OpenSSL (3.2.4, 3.5.1, 3.5.1_Light).

### Менеджер паролей
- Создание и управление базами паролей.
- Импорт/экспорт паролей в формате CSV.
- Копирование паролей в буфер обмена.
- Показ/скрытие паролей в интерфейсе.
- Шифрование баз паролей с использованием AES-256-CBC.

### Настройки
- Выбор метода шифрования (`binary_openssl_7zip`, `openssl_only`, `openssl_7zip`).
- Настройка степени сжатия (без сжатия, быстрое, среднее, нормальное, высокое, максимальное).
- Выбор версий 7zip и OpenSSL.
- Настройка Telegram-уведомлений (токен и chat ID).
- Установка мастер-пароля, хранимого в зашифрованном виде (`master_password.enc`) с использованием AES-256-CBC, PBKDF2 и соли.
- Выбор темы интерфейса (поддерживаются темы ttkbootstrap).

## Установка

### Требования
- Python 3.7 или выше.
- 7zip (в папке `7zip/`).
- OpenSSL (в папке `OpenSSL/`).

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Структура папок
```
ZipCrypt/
├── 7zip/
│   ├── 7zip_25.01_extra/
│   │   └── 7za.exe
│   ├── 7zip_24.08/
│   │   └── 7za.exe
│   └── 7zip_9.20/
│       └── 7za.exe
├── OpenSSL/
│   ├── OpenSSL_3.2.4/
│   │   └── openssl.exe
│   ├── OpenSSL_3.5.1/
│   │   └── openssl.exe
│   └── OpenSSL_3.5.1_Light/
│       └── openssl.exe
├── main.py
├── utils.py
├── crypto_engines.py
├── files_tab.py
├── password_manager.py
├── settings.py
├── master_password_manager.py
├── requirements.txt
└── README.md
```

## Запуск
```bash
python main.py
```

## Использование

### Вкладка "Файлы"
1. **Выбор файлов**: Нажмите "Выбрать файл" или "Выбрать папку".
2. **Ввод пароля**: Введите пароль или используйте мастер-пароль.
3. **Шифрование**: Нажмите "Зашифровать", выберите место сохранения.
4. **Расшифровка**: Выберите зашифрованный файл, введите пароль и нажмите "Расшифровать".

### Вкладка "Пароли"
1. **Создание базы**: Нажмите "Создать базу" для новой базы паролей.
2. **Добавление паролей**: Нажмите "Добавить" для создания записи.
3. **Сохранение**: Введите мастер-пароль (если требуется) и нажмите "Сохранить".
4. **Импорт/Экспорт**: Используйте кнопки для импорта/экспорта в CSV.

### Вкладка "Настройки"
- **Метод шифрования**: Выберите метод (`binary_openssl_7zip`, `openssl_only`, `openssl_7zip`).
- **Сжатие**: Настройте степень сжатия для 7zip.
- **Версии программ**: Выберите версии 7zip и OpenSSL.
- **Telegram**: Настройте токен и chat ID для уведомлений.
- **Мастер-пароль**: Установите или обновите мастер-пароль.
- **Тема**: Выберите тему интерфейса.

## Методы шифрования

### Двоичный код -> Base64 -> OpenSSL -> 7zip (по умолчанию, `binary_openssl_7zip`)
1. Пароль преобразуется в двоичный код.
2. Двоичный код кодируется в Base64.
3. Файлы шифруются с использованием OpenSSL:
   - **Алгоритм**: AES-256-CBC.
   - **Ключ**: 256-битный, генерируется с помощью PBKDF2 (HMAC-SHA256).
   - **Соль**: Случайная 8-байтная последовательность.
   - **CBC**: Каждый блок данных (128 бит) XOR-ится с предыдущим зашифрованным блоком.
4. Зашифрованные файлы архивируются через 7zip (LZMA, опционально AES-256).

### Только OpenSSL (`openssl_only`)
- Прямое шифрование файлов с использованием AES-256-CBC, PBKDF2 и соли.
- Подходит для одиночных файлов, не требующих сжатия.

### OpenSSL -> 7zip (`openssl_7zip`)
- Файлы шифруются через OpenSSL (AES-256-CBC, PBKDF2, соль).
- Затем архивируются через 7zip (LZMA, опционально AES-256).

## Криптографические алгоритмы

### AES-256-CBC
- **Описание**: Симметричный блочный шифр с 256-битным ключом, режим CBC.
- **Безопасность**: Устойчив к атакам благодаря большому ключу и CBC.
- **Использование**: OpenSSL для шифрования файлов и мастер-пароля, 7zip для архивов.

### PBKDF2
- **Описание**: Функция derivation ключа с HMAC-SHA256, солью и итерациями.
- **Цель**: Защита от brute-force и rainbow table атак.
- **Использование**: OpenSSL для создания ключа из пароля.

### Соль
- **Описание**: Случайная 8-байтная последовательность для уникальности ключа.
- **Цель**: Предотвращает атаки с предвычисленными таблицами.
- **Использование**: Хранится в заголовке зашифрованного файла OpenSSL.

## Логирование
- Операции логируются в `zipcrypt.log` с временными метками и уровнями (INFO, ERROR).

## Безопасность
- **Шифрование**: AES-256-CBC с PBKDF2 и солью.
- **Мастер-пароль**: Хранится в `master_password.enc` (AES-256-CBC).
- **Временные файлы**: Удаляются после операций.
- **Ограничения**: Мастер-пароль и временные файлы не перезаписываются при удалении.

## Сравнение с другими инструментами

### KeePass
- **Описание**: Бесплатный, открытый менеджер паролей с локальным хранением.
- **Шифрование**: AES-256 или ChaCha20, с поддержкой ключевых файлов.
- **Особенности**: Локальное хранение, плагины для расширения функционала, портативность.
- **Сравнение с ZipCrypt**:
  - **Преимущества KeePass**: Полностью бесплатный, поддержка ChaCha20, обширная база плагинов.
  - **Преимущества ZipCrypt**: Встроенный менеджер паролей + шифрование файлов, Telegram-уведомления, современный интерфейс (ttkbootstrap).
  - **Недостатки ZipCrypt**: Зависимость от внешних OpenSSL и 7zip, менее гибкие плагины.

### KeePassXC
- **Описание**: Современная версия KeePass, кроссплатформенная, с улучшенным интерфейсом.
- **Шифрование**: AES-256 или ChaCha20, локальное хранение.
- **Особенности**: Поддержка браузерных расширений, интеграция с YubiKey.
- **Сравнение с ZipCrypt**:
  - **Преимущества KeePassXC**: Кроссплатформенность, активное развитие, интеграция с браузерами.
  - **Преимущества ZipCrypt**: Шифрование файлов, Telegram-уведомления.
  - **Недостатки ZipCrypt**: Нет официальных мобильных приложений.

### Bitwarden
- **Описание**: Открытый менеджер паролей с облачным и локальным хранением.
- **Шифрование**: AES-256, облачная синхронизация.
- **Особенности**: Бесплатная версия, браузерные расширения, кроссплатформенность.
- **Сравнение с ZipCrypt**:
  - **Преимущества Bitwarden**: Облачная синхронизация, мобильные приложения, простота.
  - **Преимущества ZipCrypt**: Шифрование файлов, Telegram-уведомления, локальное хранение паролей.
  - **Недостатки ZipCrypt**: Нет облачной синхронизации.

### 1Password
- **Описание**: Премиальный менеджер паролей с облачным хранением.
- **Шифрование**: AES-256, PBKDF2, Secret Key.
- **Особенности**: Режим путешествия, кроссплатформенность, 2FA.
- **Сравнение с ZipCrypt**:
  - **Преимущества 1Password**: Удобный интерфейс, множественные 2FA, облачная синхронизация.
  - **Преимущества ZipCrypt**: Бесплатный, шифрование файлов, Telegram-уведомления.
  - **Недостатки ZipCrypt**: Ограниченная кроссплатформенность.

### NordPass
- **Описание**: Менеджер паролей с акцентом на простоту и безопасность.
- **Шифрование**: AES-256, XChaCha20, 2FA.
- **Особенности**: Бесплатная версия, мониторинг утечек, браузерные расширения.
- **Сравнение с ZipCrypt**:
  - **Преимущества NordPass**: Интуитивный интерфейс, мобильные приложения, мониторинг утечек.
  - **Преимущества ZipCrypt**: Шифрование файлов, Telegram-уведомления, локальное хранение.
  - **Недостатки ZipCrypt**: Зависимость от внешних инструментов.

### Keeper
- **Описание**: Премиальный менеджер паролей с акцентом на безопасность.
- **Шифрование**: AES-256, PBKDF2, множественные 2FA.
- **Особенности**: Мониторинг даркнета, кроссплатформенность, SOC 2.
- **Сравнение с ZipCrypt**:
  - **Преимущества Keeper**: Современный интерфейс, 2FA (SMS, TOTP, YubiKey), аудиты.
  - **Преимущества ZipCrypt**: Бесплатный, шифрование файлов, Telegram-уведомления.
  - **Недостатки ZipCrypt**: Нет официальной мобильной поддержки.

### VeraCrypt
- **Описание**: Инструмент для создания зашифрованных контейнеров и дисков.
- **Шифрование**: AES-256, Serpent, Twofish.
- **Особенности**: Скрытые тома, шифрование дисков, кроссплатформенность.
- **Сравнение с ZipCrypt**:
  - **Преимущества VeraCrypt**: Скрытые тома, шифрование дисков.
  - **Преимущества ZipCrypt**: Встроенный менеджер паролей, Telegram-уведомления.
  - **Недостатки ZipCrypt**: Нет скрытых томов.

### Cryptomator
- **Описание**: Шифрование для облачных хранилищ.
- **Шифрование**: AES-256-CBC, Scrypt.
- **Особенности**: Прозрачное шифрование, кроссплатформенность.
- **Сравнение с ZipCrypt**:
  - **Преимущества Cryptomator**: Оптимизация для облаков, автоматическое монтирование.
  - **Преимущества ZipCrypt**: Встроенный менеджер паролей, 7zip-сжатие.
  - **Недостатки ZipCrypt**: Не для облачных хранилищ.

### OpenSSL
- **Описание**: Криптографическая библиотека и инструмент.
- **Шифрование**: AES (CBC, CTR, GCM), RSA.
- **Особенности**: Гибкость, множество алгоритмов.
- **Сравнение с ZipCrypt**:
  - **Преимущества OpenSSL**: Гибкость, множество алгоритмов.
  - **Преимущества ZipCrypt**: GUI, встроенный менеджер паролей.
  - **Недостатки ZipCrypt**: Ограничен AES-256-CBC.

### 7zip
- **Описание**: Архиватор с шифрованием.
- **Шифрование**: AES-256.
- **Особенности**: Высокая степень сжатия.
- **Сравнение с ZipCrypt**:
  - **Преимущества 7zip**: Простота, высокое сжатие.
  - **Преимущества ZipCrypt**: PBKDF2, встроенный менеджер паролей.
  - **Недостатки ZipCrypt**: Сложнее в настройке.

### WinRAR
- **Описание**: Архиватор с шифрованием.
- **Шифрование**: AES-256.
- **Особенности**: Удобный интерфейс, поддержка RAR/ZIP.
- **Сравнение с ZipCrypt**:
  - **Преимущества WinRAR**: Простота, широкая поддержка форматов.
  - **Преимущества ZipCrypt**: Открытый код, PBKDF2, менеджер паролей.
  - **Недостатки ZipCrypt**: Менее интуитивен.

## Поддержка
При проблемах:
1. Проверьте наличие 7zip и OpenSSL в папках `7zip/` и `OpenSSL/`.
2. Убедитесь в правильности путей в настройках.
3. Проверьте `zipcrypt.log` для диагностики.
4. Убедитесь в правах на запись для `settings.json` и `master_password.enc`.

## Лицензия
ZipCrypt распространяется под лицензией MIT.
